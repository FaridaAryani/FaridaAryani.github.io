<!DOCTYPE html>
<html lang="id">
<head>
  <!-- Previous head content remains the same -->
</head>
<body class="bg-light font-sans text-dark">
  <!-- Previous HTML content remains the same until the tasksByDay object -->

  <script>
    // Updated tasksByDay with enhanced IT career development focus
    let tasksByDay = JSON.parse(localStorage.getItem('tasksByDay')) || {
      1: [
        { category: "Fitness", task: "Morning yoga (30 min) + 10K steps", emoji: "ðŸ§˜â€â™€ï¸", completed: false, link: "" },
        { category: "Fullstack Dev", task: "Build a simple CRUD API with Node.js", emoji: "ðŸ› ï¸", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Set up free tier AWS/GCP account", emoji: "â˜ï¸", completed: false, link: "" },
        { category: "AI/ML", task: "Complete Python basics refresher", emoji: "ðŸ¤–", completed: false, link: "" },
        { category: "UI/UX", task: "Analyze 3 good website designs", emoji: "ðŸŽ¨", completed: false, link: "" },
        { category: "Cybersecurity", task: "Watch intro to cybersecurity video", emoji: "ðŸ”’", completed: false, link: "" }
      ],
      2: [
        { category: "Fitness", task: "HIIT workout (30 min) + 10K steps", emoji: "ðŸ”¥", completed: false, link: "" },
        { category: "Fullstack Dev", task: "Connect frontend to your API", emoji: "ðŸ”—", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Deploy a static website to cloud", emoji: "ðŸš€", completed: false, link: "" },
        { category: "AI/ML", task: "Learn NumPy basics", emoji: "ðŸ§®", completed: false, link: "" },
        { category: "UI/UX", task: "Sketch wireframe for a portfolio", emoji: "âœï¸", completed: false, link: "" },
        { category: "IoT", task: "Set up Arduino IDE", emoji: "ðŸ’¡", completed: false, link: "" }
      ],
      3: [
        { category: "Fitness", task: "Dance workout (45 min) + 10K steps", emoji: "ðŸ’ƒ", completed: false, link: "" },
        { category: "Fullstack Dev", task: "Implement user authentication", emoji: "ðŸ‘¤", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Learn about CI/CD pipelines", emoji: "ðŸ”„", completed: false, link: "" },
        { category: "AI/ML", task: "Explore Pandas for data analysis", emoji: "ðŸ¼", completed: false, link: "" },
        { category: "UI/UX", task: "Create color palette in Figma", emoji: "ðŸŒˆ", completed: false, link: "" },
        { category: "Cybersecurity", task: "Learn about HTTPS/SSL", emoji: "ðŸ”", completed: false, link: "" }
      ],
      4: [
        { category: "Fitness", task: "Strength training (45 min) + 10K steps", emoji: "ðŸ‹ï¸â€â™€ï¸", completed: false, link: "" },
        { category: "Fullstack Dev", task: "Add database to your project", emoji: "ðŸ—ƒï¸", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Containerize app with Docker", emoji: "ðŸ³", completed: false, link: "" },
        { category: "AI/ML", task: "Simple linear regression tutorial", emoji: "ðŸ“ˆ", completed: false, link: "" },
        { category: "UI/UX", task: "Design mobile version of your site", emoji: "ðŸ“±", completed: false, link: "" },
        { category: "IoT", task: "Blink LED with Arduino", emoji: "ðŸ’¡", completed: false, link: "" }
      ],
      5: [
        { category: "Fitness", task: "Pilates (30 min) + 12K steps", emoji: "ðŸ§˜â€â™€ï¸", completed: false, link: "" },
        { category: "Fullstack Dev", task: "Implement responsive design", emoji: "ðŸ–¥ï¸", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Learn Kubernetes basics", emoji: "âš“", completed: false, link: "" },
        { category: "AI/ML", task: "Explore Matplotlib/Seaborn", emoji: "ðŸ“Š", completed: false, link: "" },
        { category: "UI/UX", task: "Create interactive prototype", emoji: "ðŸ–±ï¸", completed: false, link: "" },
        { category: "Cybersecurity", task: "Practice password security", emoji: "ðŸ”‘", completed: false, link: "" }
      ],
      6: [
        { category: "Fitness", task: "Outdoor run (30 min) + 15K steps", emoji: "ðŸƒâ€â™€ï¸", completed: false, link: "" },
        { category: "Fullstack Dev", task: "Optimize website performance", emoji: "âš¡", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Set up monitoring for your app", emoji: "ðŸ‘€", completed: false, link: "" },
        { category: "AI/ML", task: "Work on Kaggle beginner dataset", emoji: "ðŸ§ ", completed: false, link: "" },
        { category: "UI/UX", task: "Conduct usability self-test", emoji: "ðŸ§ª", completed: false, link: "" },
        { category: "IoT", task: "Add sensor to Arduino project", emoji: "ðŸŒ¡ï¸", completed: false, link: "" }
      ],
      7: [
        { category: "Fitness", task: "Gentle walk (30 min)", emoji: "ðŸš¶â€â™€ï¸", completed: false, link: "" },
        { category: "Reflection", task: "Review week's tech learnings", emoji: "ðŸ“”", completed: false, link: "" },
        { category: "Planning", task: "Plan next week's projects", emoji: "ðŸ“…", completed: false, link: "" },
        { category: "Portfolio", task: "Update your portfolio", emoji: "ðŸ“‚", completed: false, link: "" }
      ],
      8: [
        { category: "Fitness", task: "HIIT + abs (45 min) + 12K steps", emoji: "ðŸ”¥", completed: false, link: "" },
        { category: "Mobile Dev", task: "Set up React Native environment", emoji: "ðŸ“±", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Implement auto-scaling", emoji: "âš–ï¸", completed: false, link: "" },
        { category: "AI/ML", task: "Learn about neural networks", emoji: "ðŸ§ ", completed: false, link: "" },
        { category: "UI/UX", task: "Study accessibility guidelines", emoji: "â™¿", completed: false, link: "" },
        { category: "Cybersecurity", task: "Learn about firewalls", emoji: "ðŸ”¥", completed: false, link: "" }
      ],
      9: [
        { category: "Fitness", task: "Yoga + meditation (40 min)", emoji: "ðŸ§˜â€â™€ï¸", completed: false, link: "" },
        { category: "Mobile Dev", task: "Build first React Native screen", emoji: "ðŸ–¼ï¸", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Learn infrastructure as code", emoji: "ðŸ—ï¸", completed: false, link: "" },
        { category: "AI/ML", task: "Implement simple ML model", emoji: "ðŸ¤–", completed: false, link: "" },
        { category: "UI/UX", task: "Create design system components", emoji: "ðŸ§©", completed: false, link: "" },
        { category: "IoT", task: "Send sensor data to cloud", emoji: "â˜ï¸", completed: false, link: "" }
      ],
      10: [
        { category: "Fitness", task: "Strength training (50 min)", emoji: "ðŸ‹ï¸â€â™€ï¸", completed: false, link: "" },
        { category: "Mobile Dev", task: "Add navigation to your app", emoji: "ðŸ—ºï¸", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Practice with Terraform", emoji: "ðŸ› ï¸", completed: false, link: "" },
        { category: "AI/ML", task: "Explore TensorFlow/PyTorch", emoji: "âš¡", completed: false, link: "" },
        { category: "UI/UX", task: "Learn about microinteractions", emoji: "ðŸ”„", completed: false, link: "" },
        { category: "Cybersecurity", task: "Practice ethical hacking basics", emoji: "ðŸ‘¨â€ðŸ’»", completed: false, link: "" }
      ],
      11: [
        { category: "Fitness", task: "Dance workout (45 min)", emoji: "ðŸ’ƒ", completed: false, link: "" },
        { category: "Mobile Dev", task: "Implement API calls in app", emoji: "ðŸ“¡", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Set up logging system", emoji: "ðŸ“", completed: false, link: "" },
        { category: "AI/ML", task: "Work on computer vision basics", emoji: "ðŸ‘ï¸", completed: false, link: "" },
        { category: "UI/UX", task: "Create animated prototype", emoji: "ðŸŽ¬", completed: false, link: "" },
        { category: "IoT", task: "Build IoT dashboard", emoji: "ðŸ“Š", completed: false, link: "" }
      ],
      12: [
        { category: "Fitness", task: "Run intervals (30 min)", emoji: "ðŸƒâ€â™€ï¸", completed: false, link: "" },
        { category: "Mobile Dev", task: "Add state management", emoji: "ðŸ”„", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Learn about serverless", emoji: "âš¡", completed: false, link: "" },
        { category: "AI/ML", task: "Explore NLP basics", emoji: "ðŸ’¬", completed: false, link: "" },
        { category: "UI/UX", task: "Conduct user research", emoji: "ðŸ”", completed: false, link: "" },
        { category: "Cybersecurity", task: "Learn about encryption", emoji: "ðŸ”", completed: false, link: "" }
      ],
      13: [
        { category: "Fitness", task: "Pilates + stretching (40 min)", emoji: "ðŸ§˜â€â™€ï¸", completed: false, link: "" },
        { category: "Mobile Dev", task: "Implement offline capabilities", emoji: "ðŸ“´", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Practice with Ansible", emoji: "ðŸ› ï¸", completed: false, link: "" },
        { category: "AI/ML", task: "Work on recommendation system", emoji: "ðŸ‘", completed: false, link: "" },
        { category: "UI/UX", task: "Learn about dark mode design", emoji: "ðŸŒ™", completed: false, link: "" },
        { category: "IoT", task: "Add alerts to IoT system", emoji: "ðŸš¨", completed: false, link: "" }
      ],
      14: [
        { category: "Fitness", task: "Yoga + stretching (40 min)", emoji: "ðŸ§˜â€â™€ï¸", completed: false, link: "" },
        { category: "Reflection", task: "Mid-challenge progress review", emoji: "ðŸ“Š", completed: false, link: "" },
        { category: "Portfolio", task: "Add new projects to portfolio", emoji: "ðŸ“‚", completed: false, link: "" },
        { category: "Planning", task: "Set goals for week 3", emoji: "ðŸŽ¯", completed: false, link: "" }
      ],
      15: [
        { category: "Fitness", task: "Strength training (50 min)", emoji: "ðŸ‹ï¸â€â™€ï¸", completed: false, link: "" },
        { category: "Fullstack Dev", task: "Learn GraphQL", emoji: "ðŸ“Š", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Implement blue-green deployment", emoji: "ðŸ”µðŸŸ¢", completed: false, link: "" },
        { category: "AI/ML", task: "Explore time series analysis", emoji: "â±ï¸", completed: false, link: "" },
        { category: "UI/UX", task: "Study psychology in design", emoji: "ðŸ§ ", completed: false, link: "" },
        { category: "Cybersecurity", task: "Learn about OAuth", emoji: "ðŸ”‘", completed: false, link: "" }
      ],
      16: [
        { category: "Fitness", task: "HIIT workout (40 min)", emoji: "ðŸ”¥", completed: false, link: "" },
        { category: "Fullstack Dev", task: "Build microservices demo", emoji: "ðŸ§©", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Learn about service meshes", emoji: "ðŸ•¸ï¸", completed: false, link: "" },
        { category: "AI/ML", task: "Work with image datasets", emoji: "ðŸ–¼ï¸", completed: false, link: "" },
        { category: "UI/UX", task: "Create design documentation", emoji: "ðŸ“„", completed: false, link: "" },
        { category: "IoT", task: "Add security to IoT system", emoji: "ðŸ”’", completed: false, link: "" }
      ],
      17: [
        { category: "Fitness", task: "Dance workout (45 min)", emoji: "ðŸ’ƒ", completed: false, link: "" },
        { category: "Fullstack Dev", task: "Implement WebSockets", emoji: "ðŸ”Œ", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Practice with Prometheus", emoji: "ðŸ“ˆ", completed: false, link: "" },
        { category: "AI/ML", task: "Explore transfer learning", emoji: "ðŸ”„", completed: false, link: "" },
        { category: "UI/UX", task: "Learn about design systems", emoji: "ðŸŽ¨", completed: false, link: "" },
        { category: "Cybersecurity", task: "Practice penetration testing", emoji: "ðŸ›¡ï¸", completed: false, link: "" }
      ],
      18: [
        { category: "Fitness", task: "Run + strength (50 min)", emoji: "ðŸƒâ€â™€ï¸", completed: false, link: "" },
        { category: "Fullstack Dev", task: "Learn about WebAssembly", emoji: "ðŸ–¥ï¸", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Implement CI/CD pipeline", emoji: "ðŸ”„", completed: false, link: "" },
        { category: "AI/ML", task: "Work on sentiment analysis", emoji: "ðŸ˜Š", completed: false, link: "" },
        { category: "UI/UX", task: "Create high-fidelity mockups", emoji: "âœ¨", completed: false, link: "" },
        { category: "IoT", task: "Add machine learning to IoT", emoji: "ðŸ¤–", completed: false, link: "" }
      ],
      19: [
        { category: "Fitness", task: "Yoga + meditation (40 min)", emoji: "ðŸ§˜â€â™€ï¸", completed: false, link: "" },
        { category: "Fullstack Dev", task: "Optimize database queries", emoji: "âš¡", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Learn about GitOps", emoji: "ðŸ”„", completed: false, link: "" },
        { category: "AI/ML", task: "Explore GANs", emoji: "ðŸŽ¨", completed: false, link: "" },
        { category: "UI/UX", task: "Conduct A/B testing", emoji: "ðŸ§ª", completed: false, link: "" },
        { category: "Cybersecurity", task: "Learn about zero trust", emoji: "ðŸ›¡ï¸", completed: false, link: "" }
      ],
      20: [
        { category: "Fitness", task: "Circuit training (50 min)", emoji: "â±ï¸", completed: false, link: "" },
        { category: "Fullstack Dev", task: "Implement SSR/SSG", emoji: "ðŸ–¥ï¸", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Practice with Helm charts", emoji: "â›µ", completed: false, link: "" },
        { category: "AI/ML", task: "Work on reinforcement learning", emoji: "ðŸŽ®", completed: false, link: "" },
        { category: "UI/UX", task: "Create style guide", emoji: "ðŸ“", completed: false, link: "" },
        { category: "IoT", task: "Deploy IoT project", emoji: "ðŸš€", completed: false, link: "" }
      ],
      21: [
        { category: "Fitness", task: "Active recovery day", emoji: "ðŸš¶â€â™€ï¸", completed: false, link: "" },
        { category: "Reflection", task: "Journal about skills learned", emoji: "ðŸ“”", completed: false, link: "" },
        { category: "Portfolio", task: "Polish portfolio projects", emoji: "âœ¨", completed: false, link: "" },
        { category: "Planning", task: "Final week preparation", emoji: "ðŸ“…", completed: false, link: "" }
      ],
      22: [
        { category: "Fitness", task: "HIIT + strength (55 min)", emoji: "ðŸ’ª", completed: false, link: "" },
        { category: "Fullstack Dev", task: "Learn about Web3 basics", emoji: "ðŸª™", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Implement monitoring alerts", emoji: "ðŸš¨", completed: false, link: "" },
        { category: "AI/ML", task: "Explore AutoML tools", emoji: "âš™ï¸", completed: false, link: "" },
        { category: "UI/UX", task: "Design for AR/VR", emoji: "ðŸ‘“", completed: false, link: "" },
        { category: "Cybersecurity", task: "Learn about blockchain security", emoji: "â›“ï¸", completed: false, link: "" }
      ],
      23: [
        { category: "Fitness", task: "Run intervals (40 min)", emoji: "ðŸƒâ€â™€ï¸", completed: false, link: "" },
        { category: "Fullstack Dev", task: "Implement PWA features", emoji: "ðŸ“±", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Practice with service mesh", emoji: "ðŸ•¸ï¸", completed: false, link: "" },
        { category: "AI/ML", task: "Work on model deployment", emoji: "ðŸš€", completed: false, link: "" },
        { category: "UI/UX", task: "Create design case study", emoji: "ðŸ“š", completed: false, link: "" },
        { category: "IoT", task: "Optimize IoT system", emoji: "âš¡", completed: false, link: "" }
      ],
      24: [
        { category: "Fitness", task: "Strength training (60 min)", emoji: "ðŸ‹ï¸â€â™€ï¸", completed: false, link: "" },
        { category: "Fullstack Dev", task: "Learn about edge computing", emoji: "ðŸŒ", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Implement chaos engineering", emoji: "ðŸŒ€", completed: false, link: "" },
        { category: "AI/ML", task: "Explore explainable AI", emoji: "ðŸ”", completed: false, link: "" },
        { category: "UI/UX", task: "Design for accessibility", emoji: "â™¿", completed: false, link: "" },
        { category: "Cybersecurity", task: "Practice incident response", emoji: "ðŸš¨", completed: false, link: "" }
      ],
      25: [
        { category: "Fitness", task: "Yoga + mobility (45 min)", emoji: "ðŸ§˜â€â™€ï¸", completed: false, link: "" },
        { category: "Fullstack Dev", task: "Optimize for Core Web Vitals", emoji: "âš¡", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Learn about GitLab CI", emoji: "ðŸ”„", completed: false, link: "" },
        { category: "AI/ML", task: "Work on model interpretability", emoji: "ðŸ”Ž", completed: false, link: "" },
        { category: "UI/UX", task: "Create design tokens", emoji: "ðŸŽ¨", completed: false, link: "" },
        { category: "IoT", task: "Add AI to IoT project", emoji: "ðŸ¤–", completed: false, link: "" }
      ],
      26: [
        { category: "Fitness", task: "Circuit training (55 min)", emoji: "â±ï¸", completed: false, link: "" },
        { category: "Fullstack Dev", task: "Implement dark mode", emoji: "ðŸŒ™", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Practice with ArgoCD", emoji: "ðŸ”„", completed: false, link: "" },
        { category: "AI/ML", task: "Explore federated learning", emoji: "ðŸŒ", completed: false, link: "" },
        { category: "UI/UX", task: "Design microinteractions", emoji: "ðŸ”„", completed: false, link: "" },
        { category: "Cybersecurity", task: "Learn about DevSecOps", emoji: "ðŸ”", completed: false, link: "" }
      ],
      27: [
        { category: "Fitness", task: "Run + mobility (50 min)", emoji: "ðŸƒâ€â™€ï¸", completed: false, link: "" },
        { category: "Fullstack Dev", task: "Learn about WebRTC", emoji: "ðŸ“¹", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Implement canary releases", emoji: "ðŸ¦", completed: false, link: "" },
        { category: "AI/ML", task: "Work on model optimization", emoji: "âš¡", completed: false, link: "" },
        { category: "UI/UX", task: "Create design handoff", emoji: "ðŸ¤", completed: false, link: "" },
        { category: "IoT", task: "Document IoT project", emoji: "ðŸ“„", completed: false, link: "" }
      ],
      28: [
        { category: "Fitness", task: "Gentle yoga + reflection", emoji: "ðŸ§˜â€â™€ï¸", completed: false, link: "" },
        { category: "Reflection", task: "Write about tech journey", emoji: "ðŸ“”", completed: false, link: "" },
        { category: "Portfolio", task: "Finalize portfolio", emoji: "âœ¨", completed: false, link: "" },
        { category: "Planning", task: "Prepare for final push", emoji: "âœŠ", completed: false, link: "" }
      ],
      29: [
        { category: "Fitness", task: "Full body workout (60 min)", emoji: "ðŸ’ª", completed: false, link: "" },
        { category: "Fullstack Dev", task: "Finalize all projects", emoji: "ðŸŽ¯", completed: false, link: "" },
        { category: "Cloud/DevOps", task: "Document infrastructure", emoji: "ðŸ“", completed: false, link: "" },
        { category: "AI/ML", task: "Prepare model demo", emoji: "ðŸ¤–", completed: false, link: "" },
        { category: "UI/UX", task: "Polish design portfolio", emoji: "âœ¨", completed: false, link: "" },
        { category: "Cybersecurity", task: "Review security practices", emoji: "ðŸ”", completed: false, link: "" }
      ],
      30: [
        { category: "Fitness", task: "Celebration workout!", emoji: "ðŸŽ‰", completed: false, link: "" },
        { category: "Portfolio", task: "Publish your portfolio", emoji: "ðŸš€", completed: false, link: "" },
        { category: "Reflection", task: "Write 30-day review", emoji: "ðŸ“”", completed: false, link: "" },
        { category: "Planning", task: "Set next 90-day goals", emoji: "ðŸŽ¯", completed: false, link: "" },
        { category: "Networking", task: "Share your journey online", emoji: "ðŸŒ", completed: false, link: "" },
        { category: "Celebration", task: "Treat yourself!", emoji: "ðŸŽ", completed: false, link: "" }
      ]
    };

    // Motivational quotes for each day
    const motivationalQuotes = [
      "The secret of getting ahead is getting started.",
      "Small steps every day lead to big results.",
      "Consistency is the key to success.",
      "You're stronger than you think.",
      "Progress, not perfection.",
      "Every expert was once a beginner.",
      "Rest is part of the journey.",
      "Level up! You're doing amazing.",
      "Growth happens outside your comfort zone.",
      "Double digits! Keep pushing forward.",
      "Success is the sum of small efforts.",
      "Halfway there! You've got this.",
      "The harder you work, the luckier you get.",
      "Rest, recharge, reflect.",
      "New week, new challenges!",
      "Good habits are as addictive as bad ones.",
      "Results take time, keep going!",
      "Motivation gets you started, habit keeps you going.",
      "Almost there! Stay focused.",
      "Two-thirds done! Final stretch ahead.",
      "Rest days make your workout days better.",
      "Final push! Give it your all.",
      "Limits exist only in your mind.",
      "So close! Keep that momentum.",
      "Success is just around the corner.",
      "Final stretch! Almost there.",
      "Last efforts before victory.",
      "Rest up for the final day!",
      "Prepare for success tomorrow.",
      "You did it! 30 days of growth."
    ];

    // Date functionality
    let startDate = null;
    let dateRangeSet = false;

    // Load start date from localStorage if available
    if (localStorage.getItem('startDate')) {
      startDate = new Date(localStorage.getItem('startDate'));
      updateDateDisplay();
      dateRangeSet = true;
    }

    function setStartDate() {
      const dateInput = document.getElementById('start-date');
      if (!dateInput.value) {
        alert('Please select a start date!');
        return;
      }
      
      startDate = new Date(dateInput.value);
      localStorage.setItem('startDate', startDate.toISOString());
      updateDateDisplay();
      dateRangeSet = true;
      
      // Show success message
      const dateDisplay = document.getElementById('date-range-display');
      dateDisplay.classList.remove('hidden');
      dateDisplay.classList.add('animate-pulse');
      setTimeout(() => {
        dateDisplay.classList.remove('animate-pulse');
      }, 1000);
    }

    function updateDateDisplay() {
      if (!startDate) return;
      
      // Format start date
      const startDateStr = formatDate(startDate);
      document.getElementById('start-date-display').textContent = startDateStr;
      
      // Calculate and format end date (29 days after start)
      const endDate = new Date(startDate);
      endDate.setDate(endDate.getDate() + 29);
      const endDateStr = formatDate(endDate);
      document.getElementById('end-date-display').textContent = endDateStr;
      
      // Update current day's date
      updateCurrentDateDisplay();
    }

    function formatDate(date) {
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      return date.toLocaleDateString('id-ID', options);
    }

    function getDateForDay(day) {
      if (!startDate) return null;
      
      const date = new Date(startDate);
      date.setDate(date.getDate() + (day - 1));
      return date;
    }

    function updateCurrentDateDisplay() {
      if (!dateRangeSet) return;
      
      const day = parseInt(document.getElementById('day').value);
      const date = getDateForDay(day);
      
      if (date) {
        const dateStr = formatDate(date);
        document.getElementById('current-date-display').textContent = dateStr;
        document.getElementById('current-date-task').textContent = dateStr;
      }
    }

    function updateTasks() {
      const day = document.getElementById('day').value;
      const dayNum = parseInt(day);
      document.getElementById('current-day').textContent = dayNum;
      document.getElementById('current-day-text').textContent = dayNum;
      
      // Update date display if set
      if (dateRangeSet) {
        updateCurrentDateDisplay();
      }
      
      // Update motivational quote
      document.getElementById('motivation').textContent = `"${motivationalQuotes[dayNum-1]}"`;
      
      const tasks = tasksByDay[day] || [];
      const taskList = document.getElementById('tasks');
      taskList.innerHTML = '';

      if (tasks.length === 0) {
        taskList.innerHTML = '<p class="text-center py-4">No tasks for this day. Enjoy your rest!</p>';
      } else {
        tasks.forEach((task, index) => {
          const li = document.createElement('li');
          li.className = `task-card bg-white rounded-lg shadow p-3 sm:p-4 border-l-4 ${getCategoryBorder(task.category)} ${task.completed ? 'opacity-80' : ''}`;
          li.innerHTML = `
            <div class="flex items-start">
              <div class="flex-shrink-0 pt-1">
                <input type="checkbox" id="task-${day}-${index}" ${task.completed ? 'checked' : ''} 
                      class="h-4 w-4 sm:h-5 sm:w-5 rounded border-gray-300 text-primary focus:ring-primary" 
                      onchange="toggleTask(${day}, ${index}, this)">
              </div>
              <div class="ml-3 flex-1">
                <label for="task-${day}-${index}" class="block text-sm sm:text-base ${task.completed ? 'line-through text-gray-500' : 'text-gray-800'}">
                  <span class="font-semibold">${task.emoji} ${task.category}</span>: ${task.task}
                </label>
                <div class="mt-2 flex items-center task-link-input">
                  <input type="text" id="link-${day}-${index}" placeholder="Paste your progress link here..." 
                        value="${task.link || ''}" class="flex-1 p-1 sm:p-2 text-xs sm:text-sm border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"
                        onblur="updateLink(${day}, ${index}, this.value)">
                  ${task.link ? `<a href="${task.link}" target="_blank" class="ml-2 px-2 py-1 sm:px-3 sm:py-2 bg-secondary text-white rounded-lg hover:bg-opacity-90 transition text-xs sm:text-sm">View</a>` : ''}
                </div>
              </div>
            </div>
          `;
          taskList.appendChild(li);
        });
      }

      updateProgress();
      updateDailyProgressBar(day);
    }

    function getCategoryBorder(category) {
      switch(category) {
        case 'Fitness': return 'border-primary';
        case 'Fullstack Dev': return 'border-blue-500';
        case 'Mobile Dev': return 'border-indigo-500';
        case 'Cloud/DevOps': return 'border-teal-500';
        case 'AI/ML': return 'border-purple-500';
        case 'UI/UX': return 'border-pink-500';
        case 'Cybersecurity': return 'border-red-500';
        case 'IoT': return 'border-yellow-500';
        case 'Reflection': return 'border-gray-500';
        case 'Planning': return 'border-green-500';
        case 'Portfolio': return 'border-orange-500';
        case 'Networking': return 'border-cyan-500';
        case 'Celebration': return 'border-red-500';
        default: return 'border-gray-300';
      }
    }

    function toggleTask(day, index, checkbox) {
      const task = tasksByDay[day][index];
      if (checkbox.checked && !task.link) {
        alert('Please add a progress link before marking as complete!');
        checkbox.checked = false;
        return;
      }
      tasksByDay[day][index].completed = checkbox.checked;
      localStorage.setItem('tasksByDay', JSON.stringify(tasksByDay));
      updateTasks();
      
      // Add celebration effect for completed tasks
      if (checkbox.checked) {
        const taskElement = checkbox.closest('.task-card');
        taskElement.classList.add('animate-pulse');
        setTimeout(() => {
          taskElement.classList.remove('animate-pulse');
        }, 1000);
      }
    }

    function updateLink(day, index, link) {
      tasksByDay[day][index].link = link.trim();
      localStorage.setItem('tasksByDay', JSON.stringify(tasksByDay));
      updateTasks();
    }

    function updateProgress() {
      let totalTasks = 0;
      let completedTasks = 0;
      let completedDays = 0;
      
      // Calculate task completion
      Object.values(tasksByDay).forEach(tasks => {
        totalTasks += tasks.length;
        const dayCompleted = tasks.filter(task => task.completed && task.link).length;
        completedTasks += dayCompleted;
        if (dayCompleted === tasks.length && tasks.length > 0) {
          completedDays++;
        }
      });
      
      // Update overall progress
      const overallPercentage = totalTasks > 0 ? (completedTasks / totalTasks * 100).toFixed(0) : 0;
      document.getElementById('progress').innerHTML = `Completed: <span class="font-bold">${completedTasks}</span> of <span class="font-bold">${totalTasks}</span> tasks`;
      document.getElementById('weight-progress').textContent = `${completedDays}/30 days`;
      document.getElementById('weight-bar').style.width = `${(completedDays / 30 * 100).toFixed(0)}%`;
      
      // Update progress ring
      const overallRing = document.getElementById('overall-progress-ring');
      const offset = 100 - overallPercentage;
      overallRing.setAttribute('stroke-dasharray', `${overallPercentage}, 100`);
      overallRing.parentElement.querySelector('text').textContent = `${overallPercentage}%`;
    }

    function updateDailyProgressBar(day) {
      const tasks = tasksByDay[day] || [];
      const totalTasks = tasks.length;
      const completedTasks = tasks.filter(task => task.completed && task.link).length;
      const percentage = totalTasks > 0 ? (completedTasks / totalTasks * 100).toFixed(0) : 0;
      
      // Update daily progress ring
      const dailyRing = document.getElementById('daily-progress-ring');
      dailyRing.setAttribute('stroke-dasharray', `${percentage}, 100`);
      dailyRing.parentElement.querySelector('text').textContent = `${percentage}%`;
      
      // Update progress text
      const progressText = document.getElementById('progress-text');
      if (percentage == 0) {
        progressText.textContent = "You're just getting started!";
      } else if (percentage < 50) {
        progressText.textContent = "Keep going! You're making progress.";
      } else if (percentage < 100) {
        progressText.textContent = "More than halfway there!";
      } else {
        progressText.textContent = "Perfect! You completed all tasks!";
      }
    }

    // Set today's date as default in date picker
    document.addEventListener('DOMContentLoaded', function() {
      const today = new Date();
      const dateStr = today.toISOString().split('T')[0];
      document.getElementById('start-date').value = dateStr;
      
      // Initialize tasks for first day
      updateTasks();
    });
  </script>
</body>
</html>
